import React from 'react'
import {Card, Box, Button, Divider, Drawer, Typography, useMediaQuery } from '@mui/material';
import { useRouter } from "next/router";
import PropTypes from "prop-types";
import assetArr from './api/assetArr';
import Image from "next/image";
import Text from "../comps/common/Text"

const  SingleProduct= props=>{
  const { query,asPath} = useRouter();
  console.log(" single line 7",props);
 let ith=0;
  if(query.slug){
     ith= assetArr.findIndex(x => x.Slug === query.slug);
  }
const {Title,Content,Price,createdAt,Audio,Image} =assetArr[ith];
console.log(" single line 12", Image.url )
 return(  
  <Box className="product-box height-75">
  <Card className="singleCard" style={{height:"75vh",marginBottom:"2em",marginTop:"1em"}}>
  <div className="row">
			<div className="col-sm-12 col-md-6">
      <div className="img-responsive img-thumbnail ratio-4-3" style={{background:`url(${Image.url}) 50% 50% no-repeat`, backgroundSize: "cover"}}></div>
  </div>
  <div className="col-sm-12 col-md-6">
  <h2>{Title}</h2>
  <Divider
          sx={{
            borderColor: '#00035a',
            my: 3
          }}
        />
      <Text color={"black"} content={Content}></Text>
  </div>
  </div>
  </Card>
  </Box>
 )
}

export async function getStaticProps({ params }) {
	const  post  = params;
  console.log("Line 45",post)
/* 	const res = await fetch(`http://localhost:1337/assets?Slug=${slug}`);
	const data = await res.json();
	const asset = data[0]; */
	return {
		props: { post },
	};
}


SingleProduct.propTypes={
	post:PropTypes.node,
  Title:PropTypes.string,
	Content:PropTypes.string,
  id:PropTypes.string
};




export default  SingleProduct;
